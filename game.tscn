[gd_scene load_steps=22 format=2]

[ext_resource path="res://game.gd" type="Script" id=1]
[ext_resource path="res://images/panel.png" type="Texture" id=2]
[ext_resource path="res://components/trap_button.tscn" type="PackedScene" id=3]
[ext_resource path="res://images/button01.png" type="Texture" id=4]
[ext_resource path="res://components/trap01.tscn" type="PackedScene" id=5]
[ext_resource path="res://images/button02.png" type="Texture" id=6]
[ext_resource path="res://components/trap02.tscn" type="PackedScene" id=7]
[ext_resource path="res://images/button03.png" type="Texture" id=8]
[ext_resource path="res://components/trap03.tscn" type="PackedScene" id=9]
[ext_resource path="res://images/trap02.png" type="Texture" id=10]
[ext_resource path="res://trap_detail.gd" type="Script" id=11]
[ext_resource path="res://images/coin.png" type="Texture" id=12]
[ext_resource path="res://images/attack.png" type="Texture" id=13]
[ext_resource path="res://images/clock.png" type="Texture" id=14]
[ext_resource path="res://components/number_label.tscn" type="PackedScene" id=15]
[ext_resource path="res://images/button.png" type="Texture" id=16]
[ext_resource path="res://images/button_flat.png" type="Texture" id=17]
[ext_resource path="res://images/upgrade.png" type="Texture" id=18]
[ext_resource path="res://images/wave.png" type="Texture" id=19]

[sub_resource type="StyleBoxTexture" id=1]

content_margin_left = -1.0
content_margin_right = -1.0
content_margin_top = -1.0
content_margin_bottom = -1.0
texture = ExtResource( 2 )
region_rect = Rect2( 0, 0, 260, 370 )
margin_left = 0.0
margin_right = 0.0
margin_top = 0.0
margin_bottom = 0.0
expand_margin_left = 0.0
expand_margin_right = 0.0
expand_margin_top = 0.0
expand_margin_bottom = 0.0
modulate_color = Color( 1, 1, 1, 1 )
draw_center = true

[sub_resource type="Theme" id=2]

Panel/styles/ = SubResource( 1 )
_sections_unfolded = [ "Panel", "Panel/styles", "Resource" ]

[node name="game" type="Spatial"]

script = ExtResource( 1 )

[node name="scene" type="Spatial" parent="."]

[node name="floors" type="Spatial" parent="scene"]

[node name="walls" type="Spatial" parent="scene"]

[node name="ghosts" type="Spatial" parent="scene"]

[node name="camera" type="Camera" parent="."]

transform = Transform( 1, 0, 0, 0, 0.544639, 0.838671, 0, -0.838671, 0.544639, 0, 6, 5 )
projection = 0
fov = 70.0
near = 0.05
far = 100.0
keep_aspect = 1
current = false
cull_mask = 1048575
environment = null
h_offset = 0.0
v_offset = 0.0
doppler/tracking = 0
_sections_unfolded = [ "Transform", "Visibility" ]

[node name="trap_buttons" type="TextureRect" parent="."]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 1014.0
margin_top = -4.0
margin_right = 1274.0
margin_bottom = 366.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 0
size_flags_horizontal = 1
size_flags_vertical = 1
theme = SubResource( 2 )
texture = ExtResource( 2 )
stretch_mode = 0
_sections_unfolded = [ "Margin", "Rect", "Theme" ]

[node name="trap_button_01" parent="trap_buttons" instance=ExtResource( 3 )]

margin_left = 28.0
margin_top = 31.0
margin_right = 128.0
margin_bottom = 131.0
trap_image = ExtResource( 4 )
trap_scene = ExtResource( 5 )

[node name="trap_button_02" parent="trap_buttons" instance=ExtResource( 3 )]

margin_left = 133.0
margin_top = 31.0
margin_right = 233.0
margin_bottom = 131.0
trap_image = ExtResource( 6 )
trap_scene = ExtResource( 7 )

[node name="trap_button_03" parent="trap_buttons" instance=ExtResource( 3 )]

margin_left = 29.0
margin_top = 136.0
margin_right = 129.0
margin_bottom = 236.0
trap_image = ExtResource( 8 )
trap_scene = ExtResource( 9 )
interval = 0.0
can_upgrade = false

[node name="trap_button_04" parent="trap_buttons" instance=ExtResource( 3 )]

margin_left = 133.0
margin_top = 136.0
margin_right = 233.0
margin_bottom = 236.0
trap_image = ExtResource( 10 )
trap_scene = ExtResource( 7 )

[node name="trap_button_05" parent="trap_buttons" instance=ExtResource( 3 )]

margin_left = 28.0
margin_top = 240.0
margin_right = 128.0
margin_bottom = 340.0
trap_image = ExtResource( 10 )
trap_scene = ExtResource( 7 )

[node name="trap_button_06" parent="trap_buttons" instance=ExtResource( 3 )]

margin_left = 132.0
margin_top = 241.0
margin_right = 232.0
margin_bottom = 341.0
trap_image = ExtResource( 10 )
trap_scene = ExtResource( 7 )

[node name="trap_detail" type="TextureRect" parent="."]

editor/display_folded = true
visible = false
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 1011.0
margin_top = 362.0
margin_right = 1271.0
margin_bottom = 717.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 2 )
expand = true
stretch_mode = 0
script = ExtResource( 11 )

[node name="trap_image" type="TextureRect" parent="trap_detail"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 79.0
margin_top = 45.0
margin_right = 179.0
margin_bottom = 145.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 4 )
expand = true
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="coin_icon" type="TextureRect" parent="trap_detail"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 39.0
margin_top = 154.0
margin_right = 69.0
margin_bottom = 184.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 12 )
expand = true
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="attack_icon" type="TextureRect" parent="trap_detail"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 39.0
margin_top = 187.0
margin_right = 69.0
margin_bottom = 217.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 13 )
expand = true
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="interval_icon" type="TextureRect" parent="trap_detail"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 40.0
margin_top = 223.0
margin_right = 70.0
margin_bottom = 253.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 14 )
expand = true
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="price_label" parent="trap_detail" instance=ExtResource( 15 )]

margin_left = 78.0
margin_top = 155.0
margin_right = 118.0
margin_bottom = 191.0

[node name="attack_label" parent="trap_detail" instance=ExtResource( 15 )]

margin_left = 79.0
margin_top = 189.0
margin_right = 119.0
margin_bottom = 225.0

[node name="interval_label" parent="trap_detail" instance=ExtResource( 15 )]

margin_left = 79.0
margin_top = 223.0
margin_right = 119.0
margin_bottom = 259.0

[node name="upgrade" type="TextureButton" parent="trap_detail"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 57.0
margin_top = 270.0
margin_right = 202.0
margin_bottom = 325.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 0
size_flags_horizontal = 1
size_flags_vertical = 1
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
group = null
texture_normal = ExtResource( 16 )
texture_pressed = ExtResource( 17 )
expand = true
_sections_unfolded = [ "Textures" ]

[node name="icon" type="TextureRect" parent="trap_detail/upgrade"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 8.0
margin_top = 5.0
margin_right = 48.0
margin_bottom = 45.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 18 )
expand = true
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="upgrade_price" parent="trap_detail/upgrade" instance=ExtResource( 15 )]

margin_left = 41.0
margin_top = 15.0
margin_right = 59.0
margin_bottom = 45.0
text_size = 20.0

[node name="hud" type="Node" parent="."]

[node name="coin_icon" type="TextureRect" parent="hud"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 12.0
margin_top = 12.0
margin_right = 48.0
margin_bottom = 48.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 12 )
expand = true
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="money_label" parent="hud" instance=ExtResource( 15 )]

margin_left = 55.0
margin_top = 12.0
margin_right = 95.0
margin_bottom = 52.0
text_size = 36.0

[node name="wave" type="TextureRect" parent="hud"]

visible = false
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 356.0
margin_top = 251.0
margin_right = 659.0
margin_bottom = 351.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 19 )
stretch_mode = 0
_sections_unfolded = [ "Rect" ]

[node name="number" parent="hud/wave" instance=ExtResource( 15 )]

margin_left = 335.0
margin_top = 5.0
margin_right = 375.0
margin_bottom = 45.0
text_size = 100.0

[connection signal="on_click" from="trap_buttons/trap_button_01" to="." method="on_trap_button_click"]

[connection signal="on_click" from="trap_buttons/trap_button_02" to="." method="on_trap_button_click"]

[connection signal="on_click" from="trap_buttons/trap_button_03" to="." method="on_trap_button_click"]

[connection signal="on_click" from="trap_buttons/trap_button_04" to="." method="on_trap_button_click"]

[connection signal="on_click" from="trap_buttons/trap_button_05" to="." method="on_trap_button_click"]

[connection signal="on_click" from="trap_buttons/trap_button_06" to="." method="on_trap_button_click"]

[connection signal="pressed" from="trap_detail/upgrade" to="." method="on_upgrade"]


